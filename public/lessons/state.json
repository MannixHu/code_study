{
  "categoryId": "state",
  "name": "State çŠ¶æ€",
  "description": "å­¦ä¹  useState ç®¡ç†ç»„ä»¶çŠ¶æ€",
  "icon": "ğŸ”„",
  "order": 4,
  "lessons": [
    {
      "id": "state-1",
      "title": "useState åŸºç¡€",
      "difficulty": "easy",
      "tags": ["useState", "åŸºç¡€"],
      "estimatedTime": 4,
      "question": "ä½¿ç”¨ useState åˆ›å»ºä¸€ä¸ªè®¡æ•°å™¨ï¼Œåˆå§‹å€¼ä¸º 0",
      "description": "useState æ˜¯ React Hookï¼Œç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­æ·»åŠ çŠ¶æ€ã€‚è¿”å› [state, setState]ã€‚",
      "starterCode": "function App() {\n  // ä½¿ç”¨ useState åˆ›å»º count çŠ¶æ€\n\n  return (\n    <div>\n      <p>è®¡æ•°: {count}</p>\n    </div>\n  )\n}\n\nrender(<App />)",
      "solution": "function App() {\n  const [count, setCount] = useState(0)\n\n  return (\n    <div>\n      <p>è®¡æ•°: {count}</p>\n    </div>\n  )\n}\n\nrender(<App />)",
      "hints": [
        "ä½¿ç”¨ const [count, setCount] = useState(0)",
        "useState è¿”å›æ•°ç»„ï¼Œç¬¬ä¸€é¡¹æ˜¯å€¼ï¼Œç¬¬äºŒé¡¹æ˜¯æ›´æ–°å‡½æ•°",
        "ç±»ä¼¼ Vue çš„ refï¼Œä½†éœ€è¦ç”¨ setter æ›´æ–°"
      ],
      "testCases": [
        {
          "type": "ast",
          "description": "åº”è¯¥ä½¿ç”¨ useState",
          "checker": "usesUseState"
        },
        {
          "type": "pattern",
          "description": "åº”è¯¥è§£æ„ useState è¿”å›å€¼",
          "pattern": "\\[\\s*\\w+\\s*,\\s*\\w+\\s*\\]\\s*=\\s*useState"
        },
        {
          "type": "pattern",
          "description": "åº”è¯¥æ˜¾ç¤º count",
          "pattern": "\\{\\s*count\\s*\\}"
        }
      ]
    },
    {
      "id": "state-2",
      "title": "æ›´æ–°çŠ¶æ€",
      "difficulty": "easy",
      "tags": ["useState", "äº‹ä»¶"],
      "estimatedTime": 5,
      "question": "æ·»åŠ æŒ‰é’®ï¼Œç‚¹å‡»æ—¶å¢åŠ è®¡æ•°",
      "description": "è°ƒç”¨ setState å‡½æ•°æ›´æ–°çŠ¶æ€ï¼Œç»„ä»¶ä¼šé‡æ–°æ¸²æŸ“ã€‚",
      "starterCode": "function App() {\n  const [count, setCount] = useState(0)\n\n  return (\n    <div>\n      <p>è®¡æ•°: {count}</p>\n      <button onClick={/* å¢åŠ  count */}>\n        å¢åŠ \n      </button>\n    </div>\n  )\n}\n\nrender(<App />)",
      "solution": "function App() {\n  const [count, setCount] = useState(0)\n\n  return (\n    <div>\n      <p>è®¡æ•°: {count}</p>\n      <button onClick={() => setCount(count + 1)}>\n        å¢åŠ \n      </button>\n    </div>\n  )\n}\n\nrender(<App />)",
      "hints": [
        "onClick={() => setCount(count + 1)}",
        "setState ä¼šè§¦å‘é‡æ–°æ¸²æŸ“",
        "ä¸èƒ½ç›´æ¥ä¿®æ”¹ countï¼Œå¿…é¡»ç”¨ setCount"
      ],
      "testCases": [
        {
          "type": "pattern",
          "description": "åº”è¯¥æœ‰ onClick äº‹ä»¶",
          "pattern": "onClick="
        },
        {
          "type": "pattern",
          "description": "åº”è¯¥è°ƒç”¨ setCount",
          "pattern": "setCount"
        },
        {
          "type": "pattern",
          "description": "åº”è¯¥æœ‰ç®­å¤´å‡½æ•°",
          "pattern": "=>|function"
        }
      ]
    },
    {
      "id": "state-3",
      "title": "å¤šä¸ªçŠ¶æ€",
      "difficulty": "easy",
      "tags": ["useState"],
      "estimatedTime": 5,
      "question": "åˆ›å»º name å’Œ age ä¸¤ä¸ªçŠ¶æ€",
      "description": "ä¸€ä¸ªç»„ä»¶å¯ä»¥ä½¿ç”¨å¤šä¸ª useStateã€‚",
      "starterCode": "function App() {\n  // åˆ›å»º name çŠ¶æ€ï¼Œåˆå§‹å€¼ ''\n  // åˆ›å»º age çŠ¶æ€ï¼Œåˆå§‹å€¼ 0\n\n  return (\n    <div>\n      <p>å§“å: {name}</p>\n      <p>å¹´é¾„: {age}</p>\n    </div>\n  )\n}\n\nrender(<App />)",
      "solution": "function App() {\n  const [name, setName] = useState('')\n  const [age, setAge] = useState(0)\n\n  return (\n    <div>\n      <p>å§“å: {name}</p>\n      <p>å¹´é¾„: {age}</p>\n    </div>\n  )\n}\n\nrender(<App />)",
      "hints": [
        "æ¯ä¸ªçŠ¶æ€å•ç‹¬ä½¿ç”¨ useState",
        "const [name, setName] = useState('')",
        "const [age, setAge] = useState(0)"
      ],
      "testCases": [
        {
          "type": "pattern",
          "description": "åº”è¯¥æœ‰ä¸¤ä¸ª useState",
          "pattern": "useState",
          "minCount": 2
        },
        {
          "type": "pattern",
          "description": "åº”è¯¥æœ‰ name å˜é‡",
          "pattern": "\\[\\s*name\\s*,"
        },
        {
          "type": "pattern",
          "description": "åº”è¯¥æœ‰ age å˜é‡",
          "pattern": "\\[\\s*age\\s*,"
        }
      ]
    },
    {
      "id": "state-4",
      "title": "çŠ¶æ€çš„å¼‚æ­¥æ€§",
      "difficulty": "medium",
      "tags": ["useState", "å¼‚æ­¥"],
      "estimatedTime": 6,
      "question": "ç‚¹å‡»æŒ‰é’®è¿ç»­å¢åŠ  3 æ¬¡ï¼Œä½¿ç”¨å‡½æ•°å¼æ›´æ–°",
      "description": "å¤šæ¬¡è°ƒç”¨ setState æ—¶ï¼Œåº”ä½¿ç”¨å‡½æ•°å¼æ›´æ–°ä¿è¯æ­£ç¡®æ€§ã€‚",
      "starterCode": "function App() {\n  const [count, setCount] = useState(0)\n\n  const handleClick = () => {\n    // è¿ç»­è°ƒç”¨ 3 æ¬¡ setCountï¼Œæ¯æ¬¡ +1\n    // ä½¿ç”¨ setCount(prev => prev + 1)\n  }\n\n  return (\n    <div>\n      <p>è®¡æ•°: {count}</p>\n      <button onClick={handleClick}>+3</button>\n    </div>\n  )\n}\n\nrender(<App />)",
      "solution": "function App() {\n  const [count, setCount] = useState(0)\n\n  const handleClick = () => {\n    setCount(prev => prev + 1)\n    setCount(prev => prev + 1)\n    setCount(prev => prev + 1)\n  }\n\n  return (\n    <div>\n      <p>è®¡æ•°: {count}</p>\n      <button onClick={handleClick}>+3</button>\n    </div>\n  )\n}\n\nrender(<App />)",
      "hints": [
        "ä½¿ç”¨å‡½æ•°å¼æ›´æ–°: setCount(prev => prev + 1)",
        "prev ä»£è¡¨ä¸Šä¸€æ¬¡çš„çŠ¶æ€å€¼",
        "è¿ç»­è°ƒç”¨ 3 æ¬¡"
      ],
      "testCases": [
        {
          "type": "pattern",
          "description": "åº”è¯¥ä½¿ç”¨å‡½æ•°å¼æ›´æ–°",
          "pattern": "setCount\\(\\s*\\w+\\s*=>"
        },
        {
          "type": "pattern",
          "description": "åº”è¯¥æœ‰ handleClick å‡½æ•°",
          "pattern": "handleClick"
        },
        {
          "type": "pattern",
          "description": "åº”è¯¥å¤šæ¬¡è°ƒç”¨ setCount",
          "pattern": "setCount",
          "minCount": 3
        }
      ]
    },
    {
      "id": "state-5",
      "title": "å¯¹è±¡çŠ¶æ€",
      "difficulty": "medium",
      "tags": ["useState", "å¯¹è±¡"],
      "estimatedTime": 6,
      "question": "åˆ›å»ºå¯¹è±¡çŠ¶æ€ userï¼Œæ›´æ–°æ—¶ä¿ç•™å…¶ä»–å±æ€§",
      "description": "æ›´æ–°å¯¹è±¡çŠ¶æ€æ—¶ï¼Œéœ€è¦ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦ä¿ç•™å…¶ä»–å±æ€§ã€‚",
      "starterCode": "function App() {\n  const [user, setUser] = useState({\n    name: 'å¼ ä¸‰',\n    age: 25\n  })\n\n  const updateName = () => {\n    // æ›´æ–° name ä¸º 'æå››'ï¼Œä¿ç•™ age\n  }\n\n  return (\n    <div>\n      <p>{user.name} - {user.age}å²</p>\n      <button onClick={updateName}>æ”¹å</button>\n    </div>\n  )\n}\n\nrender(<App />)",
      "solution": "function App() {\n  const [user, setUser] = useState({\n    name: 'å¼ ä¸‰',\n    age: 25\n  })\n\n  const updateName = () => {\n    setUser({ ...user, name: 'æå››' })\n  }\n\n  return (\n    <div>\n      <p>{user.name} - {user.age}å²</p>\n      <button onClick={updateName}>æ”¹å</button>\n    </div>\n  )\n}\n\nrender(<App />)",
      "hints": [
        "ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦: { ...user, name: 'æ–°å€¼' }",
        "å¿…é¡»åˆ›å»ºæ–°å¯¹è±¡ï¼Œä¸èƒ½ç›´æ¥ä¿®æ”¹",
        "ç±»ä¼¼ Vue çš„ reactiveï¼Œä½†æ›´æ–°æ–¹å¼ä¸åŒ"
      ],
      "testCases": [
        {
          "type": "pattern",
          "description": "åº”è¯¥ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦",
          "pattern": "\\.\\.\\.user"
        },
        {
          "type": "pattern",
          "description": "åº”è¯¥æ›´æ–° name å±æ€§",
          "pattern": "name:\\s*['\"]"
        },
        {
          "type": "pattern",
          "description": "åº”è¯¥è°ƒç”¨ setUser",
          "pattern": "setUser"
        }
      ]
    },
    {
      "id": "state-6",
      "title": "æ•°ç»„çŠ¶æ€ - æ·»åŠ ",
      "difficulty": "medium",
      "tags": ["useState", "æ•°ç»„"],
      "estimatedTime": 6,
      "question": "åˆ›å»ºå¾…åŠåˆ—è¡¨ï¼Œå®ç°æ·»åŠ åŠŸèƒ½",
      "description": "æ›´æ–°æ•°ç»„çŠ¶æ€æ—¶ï¼Œä½¿ç”¨å±•å¼€è¿ç®—ç¬¦æˆ–æ•°ç»„æ–¹æ³•åˆ›å»ºæ–°æ•°ç»„ã€‚",
      "starterCode": "function App() {\n  const [todos, setTodos] = useState(['å­¦ä¹  React'])\n  const [input, setInput] = useState('')\n\n  const addTodo = () => {\n    // æ·»åŠ  input åˆ° todos æ•°ç»„\n    // æ¸…ç©º input\n  }\n\n  return (\n    <div>\n      <input \n        value={input}\n        onChange={e => setInput(e.target.value)}\n      />\n      <button onClick={addTodo}>æ·»åŠ </button>\n      <ul>\n        {todos.map((todo, i) => <li key={i}>{todo}</li>)}\n      </ul>\n    </div>\n  )\n}\n\nrender(<App />)",
      "solution": "function App() {\n  const [todos, setTodos] = useState(['å­¦ä¹  React'])\n  const [input, setInput] = useState('')\n\n  const addTodo = () => {\n    setTodos([...todos, input])\n    setInput('')\n  }\n\n  return (\n    <div>\n      <input \n        value={input}\n        onChange={e => setInput(e.target.value)}\n      />\n      <button onClick={addTodo}>æ·»åŠ </button>\n      <ul>\n        {todos.map((todo, i) => <li key={i}>{todo}</li>)}\n      </ul>\n    </div>\n  )\n}\n\nrender(<App />)",
      "hints": [
        "ä½¿ç”¨å±•å¼€: setTodos([...todos, input])",
        "æˆ–ä½¿ç”¨ concat: setTodos(todos.concat(input))",
        "è®°å¾—æ¸…ç©º input: setInput('')"
      ],
      "testCases": [
        {
          "type": "pattern",
          "description": "åº”è¯¥æ›´æ–° todos",
          "pattern": "setTodos"
        },
        {
          "type": "pattern",
          "description": "åº”è¯¥ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦æˆ– concat",
          "pattern": "\\.\\.\\.todos|concat"
        },
        {
          "type": "pattern",
          "description": "åº”è¯¥æ¸…ç©º input",
          "pattern": "setInput\\(\\s*['\"]\\s*['\"]\\s*\\)"
        }
      ]
    },
    {
      "id": "state-7",
      "title": "æ•°ç»„çŠ¶æ€ - åˆ é™¤",
      "difficulty": "medium",
      "tags": ["useState", "æ•°ç»„"],
      "estimatedTime": 6,
      "question": "å®ç°åˆ é™¤å¾…åŠé¡¹åŠŸèƒ½",
      "description": "ä½¿ç”¨ filter æ–¹æ³•åˆ é™¤æ•°ç»„å…ƒç´ ã€‚",
      "starterCode": "function App() {\n  const [todos, setTodos] = useState([\n    'å­¦ä¹  React',\n    'åšé¡¹ç›®',\n    'å†™æ–‡æ¡£'\n  ])\n\n  const deleteTodo = (index) => {\n    // åˆ é™¤æŒ‡å®šç´¢å¼•çš„é¡¹\n  }\n\n  return (\n    <ul>\n      {todos.map((todo, i) => (\n        <li key={i}>\n          {todo}\n          <button onClick={() => deleteTodo(i)}>åˆ é™¤</button>\n        </li>\n      ))}\n    </ul>\n  )\n}\n\nrender(<App />)",
      "solution": "function App() {\n  const [todos, setTodos] = useState([\n    'å­¦ä¹  React',\n    'åšé¡¹ç›®',\n    'å†™æ–‡æ¡£'\n  ])\n\n  const deleteTodo = (index) => {\n    setTodos(todos.filter((_, i) => i !== index))\n  }\n\n  return (\n    <ul>\n      {todos.map((todo, i) => (\n        <li key={i}>\n          {todo}\n          <button onClick={() => deleteTodo(i)}>åˆ é™¤</button>\n        </li>\n      ))}\n    </ul>\n  )\n}\n\nrender(<App />)",
      "hints": [
        "ä½¿ç”¨ filter: todos.filter((_, i) => i !== index)",
        "filter è¿”å›æ–°æ•°ç»„",
        "ä¿ç•™ç´¢å¼•ä¸ç­‰äºåˆ é™¤ç´¢å¼•çš„é¡¹"
      ],
      "testCases": [
        {
          "type": "pattern",
          "description": "åº”è¯¥ä½¿ç”¨ filter",
          "pattern": "\\.filter\\("
        },
        {
          "type": "pattern",
          "description": "åº”è¯¥è°ƒç”¨ setTodos",
          "pattern": "setTodos"
        },
        {
          "type": "pattern",
          "description": "åº”è¯¥æœ‰ deleteTodo å‡½æ•°",
          "pattern": "deleteTodo"
        }
      ]
    },
    {
      "id": "state-8",
      "title": "å¸ƒå°”çŠ¶æ€åˆ‡æ¢",
      "difficulty": "easy",
      "tags": ["useState", "å¸ƒå°”å€¼"],
      "estimatedTime": 4,
      "question": "åˆ›å»ºæ˜¾ç¤º/éšè—åˆ‡æ¢åŠŸèƒ½",
      "description": "å¸ƒå°”çŠ¶æ€å¸¸ç”¨äºæ§åˆ¶æ˜¾ç¤ºéšè—ã€å¼€å…³ç­‰ã€‚",
      "starterCode": "function App() {\n  const [visible, setVisible] = useState(true)\n\n  return (\n    <div>\n      <button onClick={/* åˆ‡æ¢ visible */}>\n        {visible ? 'éšè—' : 'æ˜¾ç¤º'}\n      </button>\n      {visible && <p>è¿™æ˜¯å¯ä»¥åˆ‡æ¢çš„å†…å®¹</p>}\n    </div>\n  )\n}\n\nrender(<App />)",
      "solution": "function App() {\n  const [visible, setVisible] = useState(true)\n\n  return (\n    <div>\n      <button onClick={() => setVisible(!visible)}>\n        {visible ? 'éšè—' : 'æ˜¾ç¤º'}\n      </button>\n      {visible && <p>è¿™æ˜¯å¯ä»¥åˆ‡æ¢çš„å†…å®¹</p>}\n    </div>\n  )\n}\n\nrender(<App />)",
      "hints": [
        "ä½¿ç”¨ !visible å–å",
        "setVisible(!visible)",
        "å¸ƒå°”å€¼åˆ‡æ¢å¾ˆç®€å•"
      ],
      "testCases": [
        {
          "type": "pattern",
          "description": "åº”è¯¥ä½¿ç”¨å–åæ“ä½œ",
          "pattern": "!visible"
        },
        {
          "type": "pattern",
          "description": "åº”è¯¥è°ƒç”¨ setVisible",
          "pattern": "setVisible"
        },
        {
          "type": "pattern",
          "description": "åº”è¯¥ä½¿ç”¨æ¡ä»¶æ¸²æŸ“",
          "pattern": "visible\\s*&&"
        }
      ]
    },
    {
      "id": "state-9",
      "title": "æƒ°æ€§åˆå§‹åŒ–",
      "difficulty": "medium",
      "tags": ["useState", "æ€§èƒ½"],
      "estimatedTime": 5,
      "question": "ä½¿ç”¨å‡½æ•°åˆå§‹åŒ– localStorage ä¸­çš„å€¼",
      "description": "å½“åˆå§‹å€¼éœ€è¦è®¡ç®—æ—¶ï¼Œä¼ å…¥å‡½æ•°é¿å…æ¯æ¬¡æ¸²æŸ“éƒ½è®¡ç®—ã€‚",
      "starterCode": "function App() {\n  // ä½¿ç”¨å‡½æ•°åˆå§‹åŒ–ï¼Œä» localStorage è¯»å–\n  const [count, setCount] = useState()\n\n  const increment = () => {\n    const newCount = count + 1\n    setCount(newCount)\n    localStorage.setItem('count', newCount)\n  }\n\n  return (\n    <div>\n      <p>è®¡æ•°: {count}</p>\n      <button onClick={increment}>å¢åŠ </button>\n    </div>\n  )\n}\n\nrender(<App />)",
      "solution": "function App() {\n  const [count, setCount] = useState(() => {\n    const saved = localStorage.getItem('count')\n    return saved ? Number(saved) : 0\n  })\n\n  const increment = () => {\n    const newCount = count + 1\n    setCount(newCount)\n    localStorage.setItem('count', newCount)\n  }\n\n  return (\n    <div>\n      <p>è®¡æ•°: {count}</p>\n      <button onClick={increment}>å¢åŠ </button>\n    </div>\n  )\n}\n\nrender(<App />)",
      "hints": [
        "useState(() => { ... })",
        "å‡½æ•°åªåœ¨é¦–æ¬¡æ¸²æŸ“æ—¶æ‰§è¡Œ",
        "é€‚åˆè¯»å– localStorage ç­‰è€—æ—¶æ“ä½œ"
      ],
      "testCases": [
        {
          "type": "pattern",
          "description": "åº”è¯¥ä½¿ç”¨å‡½æ•°åˆå§‹åŒ–",
          "pattern": "useState\\(\\s*\\(\\s*\\)\\s*=>|useState\\(\\s*function"
        },
        {
          "type": "pattern",
          "description": "åº”è¯¥è®¿é—® localStorage",
          "pattern": "localStorage"
        }
      ]
    },
    {
      "id": "state-10",
      "title": "çŠ¶æ€æå‡",
      "difficulty": "hard",
      "tags": ["useState", "ç»„ä»¶é€šä¿¡"],
      "estimatedTime": 8,
      "question": "å°† count çŠ¶æ€æå‡åˆ°çˆ¶ç»„ä»¶ï¼Œå­ç»„ä»¶æ¥æ”¶ props",
      "description": "å½“å¤šä¸ªç»„ä»¶éœ€è¦å…±äº«çŠ¶æ€æ—¶ï¼Œå°†çŠ¶æ€æå‡åˆ°æœ€è¿‘çš„å…±åŒçˆ¶ç»„ä»¶ã€‚",
      "starterCode": "function Counter({ count, onIncrement }) {\n  return (\n    <div>\n      <p>è®¡æ•°: {count}</p>\n      <button onClick={onIncrement}>å¢åŠ </button>\n    </div>\n  )\n}\n\nfunction Display({ count }) {\n  return <h2>å½“å‰: {count}</h2>\n}\n\nfunction App() {\n  // åœ¨è¿™é‡Œåˆ›å»ºçŠ¶æ€\n  // ä¼ é€’ç»™å­ç»„ä»¶\n\n  return (\n    <div>\n      <Display />\n      <Counter />\n    </div>\n  )\n}\n\nrender(<App />)",
      "solution": "function Counter({ count, onIncrement }) {\n  return (\n    <div>\n      <p>è®¡æ•°: {count}</p>\n      <button onClick={onIncrement}>å¢åŠ </button>\n    </div>\n  )\n}\n\nfunction Display({ count }) {\n  return <h2>å½“å‰: {count}</h2>\n}\n\nfunction App() {\n  const [count, setCount] = useState(0)\n\n  return (\n    <div>\n      <Display count={count} />\n      <Counter \n        count={count} \n        onIncrement={() => setCount(count + 1)} \n      />\n    </div>\n  )\n}\n\nrender(<App />)",
      "hints": [
        "åœ¨ App ä¸­åˆ›å»º useState",
        "é€šè¿‡ props ä¼ é€’ count å’Œæ›´æ–°å‡½æ•°",
        "è¿™å«çŠ¶æ€æå‡ï¼ˆLifting State Upï¼‰"
      ],
      "testCases": [
        {
          "type": "ast",
          "description": "App åº”è¯¥ä½¿ç”¨ useState",
          "checker": "usesUseState"
        },
        {
          "type": "pattern",
          "description": "åº”è¯¥ä¼ é€’ count prop",
          "pattern": "count=\\{count\\}"
        },
        {
          "type": "pattern",
          "description": "åº”è¯¥ä¼ é€’ onIncrement",
          "pattern": "onIncrement="
        }
      ]
    }
  ]
}
