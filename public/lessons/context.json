{
  "categoryId": "context",
  "name": "Context API",
  "description": "å­¦ä¹ ä½¿ç”¨ Context è·¨ç»„ä»¶ä¼ é€’æ•°æ®",
  "icon": "ğŸŒ",
  "order": 13,
  "lessons": [
    {
      "id": "context-1",
      "title": "åˆ›å»º Context",
      "difficulty": "medium",
      "tags": ["Context", "createContext"],
      "estimatedTime": 7,
      "question": "ä½¿ç”¨ createContext åˆ›å»ºä¸»é¢˜ Context",
      "description": "Context æä¾›è·¨ç»„ä»¶ä¼ é€’æ•°æ®çš„æ–¹å¼ï¼Œé¿å… props é€å±‚ä¼ é€’ã€‚",
      "starterCode": "// åˆ›å»º ThemeContext\n\nfunction ThemedButton() {\n  // ä½¿ç”¨ useContext è·å–ä¸»é¢˜\n  return <button>æŒ‰é’®</button>\n}\n\nfunction App() {\n  return (\n    // ä½¿ç”¨ Provider æä¾›å€¼\n    <div>\n      <ThemedButton />\n    </div>\n  )\n}\n\nrender(<App />)",
      "solution": "const ThemeContext = createContext('light')\n\nfunction ThemedButton() {\n  const theme = useContext(ThemeContext)\n  return <button>{theme} ä¸»é¢˜</button>\n}\n\nfunction App() {\n  return (\n    <ThemeContext.Provider value=\"dark\">\n      <ThemedButton />\n    </ThemeContext.Provider>\n  )\n}\n\nrender(<App />)",
      "hints": [
        "createContext('é»˜è®¤å€¼')",
        "Provider ç»„ä»¶æä¾›å€¼",
        "useContext æ¶ˆè´¹å€¼"
      ],
      "testCases": [
        {
          "type": "pattern",
          "description": "åº”è¯¥ä½¿ç”¨ createContext",
          "pattern": "createContext"
        },
        {
          "type": "pattern",
          "description": "åº”è¯¥ä½¿ç”¨ Provider",
          "pattern": "Provider"
        },
        {
          "type": "pattern",
          "description": "åº”è¯¥ä½¿ç”¨ useContext",
          "pattern": "useContext"
        }
      ]
    },
    {
      "id": "context-2",
      "title": "æ›´æ–° Context å€¼",
      "difficulty": "medium",
      "tags": ["Context", "çŠ¶æ€"],
      "estimatedTime": 8,
      "question": "åœ¨ Context ä¸­æä¾›çŠ¶æ€å’Œæ›´æ–°å‡½æ•°",
      "description": "Context å¯ä»¥ä¼ é€’å¯¹è±¡ï¼ŒåŒ…å«çŠ¶æ€å’Œä¿®æ”¹å‡½æ•°ã€‚",
      "starterCode": "const CountContext = createContext()\n\nfunction Counter() {\n  // è·å– count å’Œ setCount\n  return (\n    <div>\n      <p>è®¡æ•°: {/* æ˜¾ç¤º count */}</p>\n      <button /* è°ƒç”¨ setCount */>å¢åŠ </button>\n    </div>\n  )\n}\n\nfunction App() {\n  const [count, setCount] = useState(0)\n\n  return (\n    <CountContext.Provider /* æä¾›å¯¹è±¡ */>\n      <Counter />\n    </CountContext.Provider>\n  )\n}\n\nrender(<App />)",
      "solution": "const CountContext = createContext()\n\nfunction Counter() {\n  const { count, setCount } = useContext(CountContext)\n  return (\n    <div>\n      <p>è®¡æ•°: {count}</p>\n      <button onClick={() => setCount(count + 1)}>å¢åŠ </button>\n    </div>\n  )\n}\n\nfunction App() {\n  const [count, setCount] = useState(0)\n\n  return (\n    <CountContext.Provider value={{ count, setCount }}>\n      <Counter />\n    </CountContext.Provider>\n  )\n}\n\nrender(<App />)",
      "hints": [
        "value={{ count, setCount }}",
        "ä¼ é€’å¯¹è±¡åŒ…å«çŠ¶æ€å’Œå‡½æ•°",
        "useContext è§£æ„å¯¹è±¡"
      ],
      "testCases": [
        {
          "type": "pattern",
          "description": "åº”è¯¥ä¼ é€’å¯¹è±¡",
          "pattern": "value=\\{\\{.*\\}\\}"
        },
        {
          "type": "pattern",
          "description": "åº”è¯¥è§£æ„ context",
          "pattern": "\\{.*count.*setCount.*\\}.*useContext|\\{.*setCount.*count.*\\}.*useContext"
        },
        {
          "type": "pattern",
          "description": "åº”è¯¥è°ƒç”¨ setCount",
          "pattern": "setCount"
        }
      ]
    },
    {
      "id": "context-3",
      "title": "å¤šå±‚åµŒå¥—ä½¿ç”¨ Context",
      "difficulty": "easy",
      "tags": ["Context", "åµŒå¥—"],
      "estimatedTime": 6,
      "question": "æ·±å±‚ç»„ä»¶ç›´æ¥è®¿é—® Context",
      "description": "Context å¯ä»¥è·¨è¶Šä»»æ„å±‚çº§ä¼ é€’æ•°æ®ã€‚",
      "starterCode": "const UserContext = createContext()\n\nfunction DeepChild() {\n  // ç›´æ¥ä½¿ç”¨ useContext è·å– user\n  return <p>ç”¨æˆ·: {/* æ˜¾ç¤º user.name */}</p>\n}\n\nfunction Middle() {\n  return <DeepChild />\n}\n\nfunction App() {\n  const user = { name: 'å¼ ä¸‰' }\n\n  return (\n    <UserContext.Provider value={user}>\n      <Middle />\n    </UserContext.Provider>\n  )\n}\n\nrender(<App />)",
      "solution": "const UserContext = createContext()\n\nfunction DeepChild() {\n  const user = useContext(UserContext)\n  return <p>ç”¨æˆ·: {user.name}</p>\n}\n\nfunction Middle() {\n  return <DeepChild />\n}\n\nfunction App() {\n  const user = { name: 'å¼ ä¸‰' }\n\n  return (\n    <UserContext.Provider value={user}>\n      <Middle />\n    </UserContext.Provider>\n  )\n}\n\nrender(<App />)",
      "hints": [
        "æ— éœ€é€šè¿‡ Middle ä¼ é€’ props",
        "DeepChild ç›´æ¥ useContext",
        "è·¨å±‚çº§ä¼ é€’"
      ],
      "testCases": [
        {
          "type": "pattern",
          "description": "åº”è¯¥ä½¿ç”¨ useContext",
          "pattern": "useContext"
        },
        {
          "type": "pattern",
          "description": "åº”è¯¥è®¿é—® user.name",
          "pattern": "user\\.name"
        },
        {
          "type": "pattern",
          "description": "åº”è¯¥æœ‰ Provider",
          "pattern": "Provider"
        }
      ]
    },
    {
      "id": "context-4",
      "title": "Context Provider ç»„ä»¶",
      "difficulty": "hard",
      "tags": ["Context", "å°è£…"],
      "estimatedTime": 9,
      "question": "å°è£… Context Provider ä¸ºå•ç‹¬ç»„ä»¶",
      "description": "å°† Provider é€»è¾‘å°è£…æˆç»„ä»¶ï¼Œæ›´æ˜“ç»´æŠ¤ã€‚",
      "starterCode": "const ThemeContext = createContext()\n\nfunction ThemeProvider({ children }) {\n  // åˆ›å»º theme çŠ¶æ€\n  // åˆ›å»º toggleTheme å‡½æ•°\n  // æä¾› value={{ theme, toggleTheme }}\n  // è¿”å› Provider åŒ…è£¹ children\n}\n\nfunction ThemedButton() {\n  const { theme, toggleTheme } = useContext(ThemeContext)\n  return (\n    <button onClick={toggleTheme}>\n      å½“å‰ä¸»é¢˜: {theme}\n    </button>\n  )\n}\n\nfunction App() {\n  return (\n    <ThemeProvider>\n      <ThemedButton />\n    </ThemeProvider>\n  )\n}\n\nrender(<App />)",
      "solution": "const ThemeContext = createContext()\n\nfunction ThemeProvider({ children }) {\n  const [theme, setTheme] = useState('light')\n  \n  const toggleTheme = () => {\n    setTheme(t => t === 'light' ? 'dark' : 'light')\n  }\n\n  return (\n    <ThemeContext.Provider value={{ theme, toggleTheme }}>\n      {children}\n    </ThemeContext.Provider>\n  )\n}\n\nfunction ThemedButton() {\n  const { theme, toggleTheme } = useContext(ThemeContext)\n  return (\n    <button onClick={toggleTheme}>\n      å½“å‰ä¸»é¢˜: {theme}\n    </button>\n  )\n}\n\nfunction App() {\n  return (\n    <ThemeProvider>\n      <ThemedButton />\n    </ThemeProvider>\n  )\n}\n\nrender(<App />)",
      "hints": [
        "Provider ç»„ä»¶æ¥æ”¶ children",
        "å†…éƒ¨ç®¡ç†çŠ¶æ€",
        "è¿”å› Provider åŒ…è£¹ children"
      ],
      "testCases": [
        {
          "type": "pattern",
          "description": "åº”è¯¥å®šä¹‰ ThemeProvider",
          "pattern": "function ThemeProvider"
        },
        {
          "type": "pattern",
          "description": "åº”è¯¥ä½¿ç”¨ children",
          "pattern": "children"
        },
        {
          "type": "ast",
          "description": "åº”è¯¥ä½¿ç”¨ useState",
          "checker": "usesUseState"
        }
      ]
    },
    {
      "id": "context-5",
      "title": "è‡ªå®šä¹‰ useContext Hook",
      "difficulty": "hard",
      "tags": ["Context", "è‡ªå®šä¹‰Hook"],
      "estimatedTime": 8,
      "question": "åˆ›å»º useTheme Hook ç®€åŒ– Context ä½¿ç”¨",
      "description": "å°è£… useContext ä¸ºè‡ªå®šä¹‰ Hookï¼Œæä¾›æ›´å¥½çš„ APIã€‚",
      "starterCode": "const ThemeContext = createContext()\n\nfunction ThemeProvider({ children }) {\n  const [theme, setTheme] = useState('light')\n  const toggleTheme = () => setTheme(t => t === 'light' ? 'dark' : 'light')\n  return (\n    <ThemeContext.Provider value={{ theme, toggleTheme }}>\n      {children}\n    </ThemeContext.Provider>\n  )\n}\n\n// åˆ›å»º useTheme Hook\nfunction useTheme() {\n  // ä½¿ç”¨ useContext(ThemeContext)\n  // å¦‚æœä¸º undefinedï¼ŒæŠ›å‡ºé”™è¯¯\n  // è¿”å› context\n}\n\nfunction ThemedButton() {\n  const { theme, toggleTheme } = useTheme()\n  return <button onClick={toggleTheme}>{theme}</button>\n}\n\nfunction App() {\n  return (\n    <ThemeProvider>\n      <ThemedButton />\n    </ThemeProvider>\n  )\n}\n\nrender(<App />)",
      "solution": "const ThemeContext = createContext()\n\nfunction ThemeProvider({ children }) {\n  const [theme, setTheme] = useState('light')\n  const toggleTheme = () => setTheme(t => t === 'light' ? 'dark' : 'light')\n  return (\n    <ThemeContext.Provider value={{ theme, toggleTheme }}>\n      {children}\n    </ThemeContext.Provider>\n  )\n}\n\nfunction useTheme() {\n  const context = useContext(ThemeContext)\n  if (context === undefined) {\n    throw new Error('useTheme must be used within ThemeProvider')\n  }\n  return context\n}\n\nfunction ThemedButton() {\n  const { theme, toggleTheme } = useTheme()\n  return <button onClick={toggleTheme}>{theme}</button>\n}\n\nfunction App() {\n  return (\n    <ThemeProvider>\n      <ThemedButton />\n    </ThemeProvider>\n  )\n}\n\nrender(<App />)",
      "hints": [
        "å°è£… useContext è°ƒç”¨",
        "æ£€æŸ¥ context === undefined",
        "æä¾›æ›´å¥½çš„é”™è¯¯æç¤º"
      ],
      "testCases": [
        {
          "type": "pattern",
          "description": "åº”è¯¥å®šä¹‰ useTheme",
          "pattern": "function useTheme"
        },
        {
          "type": "pattern",
          "description": "åº”è¯¥ä½¿ç”¨ useContext",
          "pattern": "useContext"
        },
        {
          "type": "pattern",
          "description": "åº”è¯¥æ£€æŸ¥ undefined",
          "pattern": "undefined"
        }
      ]
    },
    {
      "id": "context-6",
      "title": "å¤šä¸ª Context ç»„åˆ",
      "difficulty": "hard",
      "tags": ["Context", "ç»„åˆ"],
      "estimatedTime": 10,
      "question": "ç»„åˆä½¿ç”¨å¤šä¸ª Context",
      "description": "ä¸€ä¸ªåº”ç”¨å¯ä»¥ä½¿ç”¨å¤šä¸ª Contextï¼Œäº’ä¸å¹²æ‰°ã€‚",
      "starterCode": "const ThemeContext = createContext()\nconst UserContext = createContext()\n\nfunction Profile() {\n  // åŒæ—¶ä½¿ç”¨ ThemeContext å’Œ UserContext\n  return (\n    <div>\n      <p>ç”¨æˆ·: {/* user.name */}</p>\n      <p>ä¸»é¢˜: {/* theme */}</p>\n    </div>\n  )\n}\n\nfunction App() {\n  const [theme, setTheme] = useState('light')\n  const [user, setUser] = useState({ name: 'å¼ ä¸‰' })\n\n  return (\n    // åµŒå¥—ä¸¤ä¸ª Provider\n    <div>\n      <Profile />\n    </div>\n  )\n}\n\nrender(<App />)",
      "solution": "const ThemeContext = createContext()\nconst UserContext = createContext()\n\nfunction Profile() {\n  const theme = useContext(ThemeContext)\n  const user = useContext(UserContext)\n  return (\n    <div>\n      <p>ç”¨æˆ·: {user.name}</p>\n      <p>ä¸»é¢˜: {theme}</p>\n    </div>\n  )\n}\n\nfunction App() {\n  const [theme, setTheme] = useState('light')\n  const [user, setUser] = useState({ name: 'å¼ ä¸‰' })\n\n  return (\n    <ThemeContext.Provider value={theme}>\n      <UserContext.Provider value={user}>\n        <Profile />\n      </UserContext.Provider>\n    </ThemeContext.Provider>\n  )\n}\n\nrender(<App />)",
      "hints": [
        "åµŒå¥—å¤šä¸ª Provider",
        "åˆ†åˆ«è°ƒç”¨ useContext",
        "Context äº’ä¸å½±å“"
      ],
      "testCases": [
        {
          "type": "pattern",
          "description": "åº”è¯¥æœ‰ä¸¤ä¸ª Provider",
          "pattern": "Provider",
          "minCount": 2
        },
        {
          "type": "pattern",
          "description": "åº”è¯¥æœ‰ä¸¤ä¸ª useContext",
          "pattern": "useContext",
          "minCount": 2
        },
        {
          "type": "pattern",
          "description": "åº”è¯¥æ˜¾ç¤º user.name",
          "pattern": "user\\.name"
        }
      ]
    }
  ]
}
